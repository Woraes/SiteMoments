{"ast":null,"code":"import _asyncToGenerator from \"G:/Angular 2+/ProjetoAng/SiteMoments/Moments/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/moment.service\";\nimport * as i2 from \"src/app/services/messages.service\";\nimport * as i3 from \"../../moment-form/moment-form.component\";\nexport class NewMomentComponent {\n  constructor(momentService, messagesService) {\n    this.momentService = momentService;\n    this.messagesService = messagesService;\n    this.btnText = \"Compartilhar !\";\n  }\n\n  ngOnInit() {}\n\n  createHandler(moment) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const formData = new FormData();\n      formData.append(\"title\", moment.title);\n      formData.append(\"description\", moment.description);\n\n      if (moment.image) {\n        formData.append('image', moment.image);\n      } //toodoi\n      //enviar para service ()\n\n\n      yield _this.momentService.createMoment(formData).subscribe(); //exibir msg\n\n      _this.messagesService.add('Momento adicionado com Sucesso Ser '); //redirect\n\n    })();\n  }\n\n}\n\nNewMomentComponent.ɵfac = function NewMomentComponent_Factory(t) {\n  return new (t || NewMomentComponent)(i0.ɵɵdirectiveInject(i1.MomentService), i0.ɵɵdirectiveInject(i2.MessagesService));\n};\n\nNewMomentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NewMomentComponent,\n  selectors: [[\"app-new-moment\"]],\n  decls: 6,\n  vars: 1,\n  consts: [[3, \"btnText\", \"onSubmit\"]],\n  template: function NewMomentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Compartilhe o seu \");\n      i0.ɵɵelementStart(2, \"span\");\n      i0.ɵɵtext(3, \"Momento\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(4, \"!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"app-moment-form\", 0);\n      i0.ɵɵlistener(\"onSubmit\", function NewMomentComponent_Template_app_moment_form_onSubmit_5_listener($event) {\n        return ctx.createHandler($event);\n      });\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"btnText\", ctx.btnText);\n    }\n  },\n  dependencies: [i3.MomentFormComponent],\n  styles: [\"h2[_ngcontent-%COMP%]{\\r\\n    text-align: center;\\r\\n    margin-bottom: 1em;\\r\\n    font-size: 2.2em;\\r\\n\\r\\n\\r\\n}\\r\\n\\r\\nh2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{\\r\\n    color: orange;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ldy1tb21lbnQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsZ0JBQWdCOzs7QUFHcEI7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCIiwiZmlsZSI6Im5ldy1tb21lbnQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImgye1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMWVtO1xyXG4gICAgZm9udC1zaXplOiAyLjJlbTtcclxuXHJcblxyXG59XHJcblxyXG5oMiBzcGFue1xyXG4gICAgY29sb3I6IG9yYW5nZTtcclxufSJdfQ== */\"]\n});","map":{"version":3,"mappings":";;;;;AAUA,OAAM,MAAOA,kBAAP,CAAyB;EAI7BC,YAAoBC,aAApB,EAA0DC,eAA1D,EAA0F;IAAtE;IAAsC;IAH1D,eAAU,gBAAV;EAG+F;;EAE/FC,QAAQ,IACP;;EAEKC,aAAa,CAACC,MAAD,EAAe;IAAA;;IAAA;MAChC,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;MAEAD,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAwBH,MAAM,CAACI,KAA/B;MACAH,QAAQ,CAACE,MAAT,CAAgB,aAAhB,EAA8BH,MAAM,CAACK,WAArC;;MAEA,IAAIL,MAAM,CAACM,KAAX,EAAiB;QACfL,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBH,MAAM,CAACM,KAAhC;MACD,CAR+B,CAUhC;MACA;;;MACA,MAAM,KAAI,CAACV,aAAL,CAAmBW,YAAnB,CAAgCN,QAAhC,EAA0CO,SAA1C,EAAN,CAZgC,CAchC;;MACA,KAAI,CAACX,eAAL,CAAqBY,GAArB,CAAyB,qCAAzB,EAfgC,CAiBhC;;IAjBgC;EAmBjC;;AA5B4B;;;mBAAlBf,oBAAkBgB;AAAA;;;QAAlBhB;EAAkBiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV/BL;MAAIA;MAAkBA;MAAMA;MAAOA;MAAOA;MAACA;MAC3CA;MAAoCA;QAAA,OAAYM,yBAAZ;MAAiC,CAAjC;MAAmCN;;;;MAAtDA;MAAAA","names":["NewMomentComponent","constructor","momentService","messagesService","ngOnInit","createHandler","moment","formData","FormData","append","title","description","image","createMoment","subscribe","add","i0","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["G:\\Angular 2+\\ProjetoAng\\SiteMoments\\Moments\\src\\app\\components\\pages\\new-moment\\new-moment.component.ts","G:\\Angular 2+\\ProjetoAng\\SiteMoments\\Moments\\src\\app\\components\\pages\\new-moment\\new-moment.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Moment } from 'src/app/Moment';\r\nimport { MomentService } from 'src/app/services/moment.service';\r\nimport { MessagesService } from 'src/app/services/messages.service';\r\n\r\n@Component({\r\n  selector: 'app-new-moment',\r\n  templateUrl: './new-moment.component.html',\r\n  styleUrls: ['./new-moment.component.css']\r\n})\r\nexport class NewMomentComponent implements OnInit {\r\n  btnText = \"Compartilhar !\";\r\n\r\n\r\n  constructor(private momentService: MomentService, private messagesService: MessagesService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  async createHandler(moment: Moment){\r\n    const formData = new FormData()\r\n\r\n    formData.append(\"title\",moment.title)\r\n    formData.append(\"description\",moment.description)\r\n\r\n    if (moment.image){\r\n      formData.append('image', moment.image);\r\n    }\r\n\r\n    //toodoi\r\n    //enviar para service ()\r\n    await this.momentService.createMoment(formData).subscribe();\r\n    \r\n    //exibir msg\r\n    this.messagesService.add('Momento adicionado com Sucesso Ser ')\r\n\r\n    //redirect\r\n\r\n  }\r\n\r\n}\r\n","<h2>Compartilhe o seu <span>Momento</span>!</h2>\r\n<app-moment-form [btnText]=\"btnText\"(onSubmit)=\"createHandler($event)\"></app-moment-form>\r\n"]},"metadata":{},"sourceType":"module"}
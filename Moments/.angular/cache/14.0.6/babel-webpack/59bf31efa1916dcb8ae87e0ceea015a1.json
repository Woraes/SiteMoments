{"ast":null,"code":"import _asyncToGenerator from \"G:/Angular 2+/ProjetoAng/SiteMoments/Moments/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet NewMomentComponent = class NewMomentComponent {\n  constructor(momentService, messagesService, router) {\n    this.momentService = momentService;\n    this.messagesService = messagesService;\n    this.router = router;\n    this.btnText = \"Compartilhar !\";\n  }\n\n  ngOnInit() {}\n\n  createHandler(moment) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const formData = new FormData();\n      formData.append(\"title\", moment.title);\n      formData.append(\"description\", moment.description);\n\n      if (moment.image) {\n        formData.append('image', moment.image);\n      } //toodoo\n      //enviar para service ()\n\n\n      yield _this.momentService.createMoment(formData).subscribe(); //exibir msg\n\n      _this.messagesService.add('Momento adicionado com Sucesso Ser '); //redirect\n\n\n      _this.router.na;\n    })();\n  }\n\n};\nNewMomentComponent = __decorate([Component({\n  selector: 'app-new-moment',\n  templateUrl: './new-moment.component.html',\n  styleUrls: ['./new-moment.component.css']\n})], NewMomentComponent);\nexport { NewMomentComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAT,QAAkC,eAAlC;AAYA,IAAaC,kBAAkB,GAA/B,MAAaA,kBAAb,CAA+B;EAI7BC,YACUC,aADV,EAEUC,eAFV,EAGUC,MAHV,EAGuB;IAFb;IACA;IACA;IANV,eAAU,gBAAV;EAOO;;EAEPC,QAAQ,IACP;;EAEKC,aAAa,CAACC,MAAD,EAAe;IAAA;;IAAA;MAChC,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;MAEAD,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAwBH,MAAM,CAACI,KAA/B;MACAH,QAAQ,CAACE,MAAT,CAAgB,aAAhB,EAA8BH,MAAM,CAACK,WAArC;;MAEA,IAAIL,MAAM,CAACM,KAAX,EAAiB;QACfL,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBH,MAAM,CAACM,KAAhC;MACD,CAR+B,CAUhC;MACA;;;MACA,MAAM,KAAI,CAACX,aAAL,CAAmBY,YAAnB,CAAgCN,QAAhC,EAA0CO,SAA1C,EAAN,CAZgC,CAchC;;MACA,KAAI,CAACZ,eAAL,CAAqBa,GAArB,CAAyB,qCAAzB,EAfgC,CAiBhC;;;MACA,KAAI,CAACZ,MAAL,CAAYa,EAAZ;IAlBgC;EAoBjC;;AAjC4B,CAA/B;AAAajB,kBAAkB,eAL9BD,SAAS,CAAC;EACTmB,QAAQ,EAAE,gBADD;EAETC,WAAW,EAAE,6BAFJ;EAGTC,SAAS,EAAE,CAAC,4BAAD;AAHF,CAAD,CAKqB,GAAlBpB,kBAAkB,CAAlB;SAAAA","names":["Component","NewMomentComponent","constructor","momentService","messagesService","router","ngOnInit","createHandler","moment","formData","FormData","append","title","description","image","createMoment","subscribe","add","na","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["G:\\Angular 2+\\ProjetoAng\\SiteMoments\\Moments\\src\\app\\components\\pages\\new-moment\\new-moment.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Route } from '@angular/router';\r\n\r\nimport { Moment } from 'src/app/Moment';\r\nimport { MomentService } from 'src/app/services/moment.service';\r\nimport { MessagesService } from 'src/app/services/messages.service';\r\n\r\n@Component({\r\n  selector: 'app-new-moment',\r\n  templateUrl: './new-moment.component.html',\r\n  styleUrls: ['./new-moment.component.css']\r\n})\r\nexport class NewMomentComponent implements OnInit {\r\n  btnText = \"Compartilhar !\";\r\n\r\n\r\n  constructor(\r\n    private momentService: MomentService, \r\n    private messagesService: MessagesService,\r\n    private router: Route,\r\n    ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  async createHandler(moment: Moment){\r\n    const formData = new FormData()\r\n\r\n    formData.append(\"title\",moment.title)\r\n    formData.append(\"description\",moment.description)\r\n\r\n    if (moment.image){\r\n      formData.append('image', moment.image);\r\n    }\r\n\r\n    //toodoo\r\n    //enviar para service ()\r\n    await this.momentService.createMoment(formData).subscribe();\r\n    \r\n    //exibir msg\r\n    this.messagesService.add('Momento adicionado com Sucesso Ser ')\r\n\r\n    //redirect\r\n    this.router.na\r\n\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}